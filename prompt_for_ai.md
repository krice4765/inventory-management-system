
# AIへの指示プロンプト

## 1. プロジェクト概要

あなたは、以下の仕様で構築されたWebアプリケーション開発プロジェクトに参加します。

このプロジェクトは、在庫、注文、商品、仕入先、発注などを管理するための業務管理システムです。

### 1.1. 主要機能

- ダッシュボード
- 認証 (ログイン)
- 在庫管理
- 注文管理 (新規作成、一覧)
- 商品管理
- 仕入先管理
- 発注管理

### 1.2. 技術スタック

- **フレームワーク:** React
- **ビルドツール:** Vite
- **言語:** TypeScript
- **ルーティング:** React Router (`react-router-dom`)
- **状態管理:** Zustand (`zustand`)
- **データフェッチ & キャッシュ:** React Query (`@tanstack/react-query`)
- **フォーム管理:** React Hook Form (`react-hook-form`)
- **スキーマバリデーション:** Yup (`yup`)
- **バックエンドサービス:** Supabase (`@supabase/supabase-js`)
- **UI:**
    - **スタイリング:** Tailwind CSS
    - **コンポーネント/アイコン:** Lucide React (`lucide-react`)
    - **チャート:** Recharts (`recharts`)
    - **通知:** React Hot Toast (`react-hot-toast`)
- **リンター:** ESLint

### 1.3. ディレクトリ構成

プロジェクトのソースコードは `src` ディレクトリ配下にあり、以下の構造で機能ごとに整理されています。

- `src/`:
    - `api/`: Supabaseとの通信など、API関連のロジック
    - `components/`:
        - `common/`: 共通UIコンポーネント
        - `Layout/`: サイドバーやヘッダーなど、全体レイアウト
        - `(feature)/`: 各機能（Dashboard, inventoryなど）に特化したコンポーネント
    - `hooks/`: カスタムフック
    - `lib/`: 外部ライブラリのインスタンス化など
    - `pages/`:
        - `Auth/`: 認証関連ページ
        - 各機能ごとのトップレベルページコンポーネント
    - `stores/`: Zustandのストア定義
    - `types/`: 型定義
    - `utils/`: 汎用的なユーティリティ関数
    - `App.tsx`: アプリケーションのメインコンポーネントとルーティング設定
    - `main.tsx`: アプリケーションのエントリーポイント

---

## 2. 指示テンプレート (コピーして使用)

### パターンA：プロジェクト分析・改善提案

**指示:**
> 上記のプロジェクト構成を理解した上で、まずはプロジェクト全体を分析し、パフォーマンス、保守性、コード品質の観点から改善できる点やリファクタリングが必要な箇所があれば提案してください。

### パターンB：機能追加

**指示:**
> 上記のプロジェクト構成を理解した上で、以下の機能を追加してください。
>
> **追加機能:** ●●●（例：商品一覧ページにキーワード検索機能を追加）
>
> **要件:**
> - ●●●（例：商品名、SKU、説明文を対象に検索できるようにする）
> - ●●●（例：検索結果はリアルタイムでテーブルに反映されるようにする）
> - ●●●（例：既存の `Products.tsx` と関連コンポーネントを修正・拡張してください）
>
> **実装の進め方:**
> 1. 必要なUIコンポーネントを `src/components/products` に追加・修正する。
> 2. `src/pages/Products.tsx` で、検索用のUIとロジックを実装する。
> 3. 状態管理には `zustand` を、データ操作には `react-query` を適切に使用すること。
>
> 不明な点があれば質問してください。

### パターンC：リファクタリング

**指示:**
> 上記のプロジェクト構成を理解した上で、以下のリファクタリングを実施してください。
>
> **対象:** ●●●（例：`src/pages/OrderNew.tsx` コンポーネント）
>
> **課題:**
> - ●●●（例：コンポーネントが肥大化しており、可読性が低い）
> - ●●●（例：フォームのロジックとUIが密結合している）
>
> **リファクタリング方針:**
> - ●●●（例：フォーム部分を `src/components/orders/OrderForm.tsx` として分割する）
> - ●●●（例：状態管理ロジックをカスタムフック `src/hooks/useOrderForm.ts` に切り出す）
>
> 不明な点があれば質問してください。
